{% extends 'base.html.twig' %}

{% block body %}
	{% if is_granted('ROLE_ADMIN') %}
		<div class="my-3 text-center">
			<a href="{{ path('create')}}" class="btn btn-primary text-center">{{'AddProduct'|trans}}</a>
		</div>
	{% endif %}

	<div class="container">
		<table class="table">
			<thead>
				<tr>
					<th scope="col" class="col-md-4 text-center">{{ 'Name'|trans }}</th>
					<th scope="col" class="col-md-4 text-center">{{ 'Color'|trans }}</th>
					<th scope="col" class="col-md-4 text-center">{{ 'Producent'|trans }}</th>
					<th scope="col" class="col-md-4 text-center">{{ 'Barcode'|trans }}</th>
					<th scope="col" class="col-md-4 text-center">{{ 'PriceNetto'|trans }}</th>
					<th scope="col" class="col-md-4 text-center">{{ 'PriceBrutto'|trans }}</th>
					<th scope="col" class="col-md-4 text-center">{{ 'VAT'|trans }}</th>
				</tr>
			</thead>
			<tbody>
				{% for productFind in product %}
					<tr>
						<td class="col-md-4">
							<div class="product-container p-3 text-center">
								<span>{{ productFind.name }}</span>
							</div>
						</td>

						<td class="col-md-4">
							<div class="product-container p-3 text-center">
								<span>{{ productFind.color }}</span>
							</div>
						</td>

						<td class="col-md-4">
							<div class="product-container p-3 text-center">
								<span>{{ productFind.producent }}</span>
							</div>
						</td>

						<td class="col-md-4">
							<div class="product-container p-3 text-center">
								<span>{{ productFind.barcode }}</span>
							</div>
						</td>

						<td class="col-md-4">
							<div class="product-container p-3 text-center">
								<span>{{ productFind.price.pricenetto }}</span>
							</div>
						</td>

						<td class="col-md-4">
							<div class="product-container p-3 text-center">
								<span>{{ productFind.price.pricebrutto }}</span>
							</div>
						</td>

						<td class="col-md-4">
							<div class="product-container p-3 text-center">
								<span>{{ productFind.price.vat }}</span>
							</div>
						</td>

						{% if is_granted('ROLE_ADMIN') %}
							<td class="col-md-4">
								<div class="my-3 text-center">
									<a href="{{ path('edit', {'id': productFind.id}) }}" class="btn btn-primary text-center">Edit</a>
								</div>
							</td>

							<td class="col-md-4">
								<div class="my-3 text-center">
									<a href="{{ path('delete', {'id': productFind.id}) }}" class="btn btn-primary text-center">Delete</a>
								</div>
							</td>
						{% else %}
							<td class="col-md-4">
								<div class="my-3 text-center">
									<button class="btn btn-primary">Buy</button>
								</div>
							</td>
						{% endif %}
					</tr>
				{% endfor %}
			</tbody>
		</table>
	</div>
{% endblock %}
